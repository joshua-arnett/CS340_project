{{!-- 
Citation for the following page:
Date: 05/06/2025
Based on:
Source URL: https://canvas.oregonstate.edu/courses/1999601/pages/exploration-web-application-technology-2?module_item_id=25352948 
--}}

<h1>Home page</h1>
<div class="homepageDescription">
    <p>
        Lucy Cheng, Joshua Arnett
    </p>
    <p>
        "The Toy Chest‚Äù toy store sells about 100 toys per month. They currently have 20 employees and make approximately $650 monthly. As they are expanding their workforce and selling more toys, there needs to be a way to keep track of toy orders, employee positions, and total revenue earned. A database-driven website will keep track of toy Orders from Customers, the Employees handling the Orders, and which Departments the Employees come from.
    </p>
    <br><br><br><br>
    <form id='reset_database_form' action="/reset-database" method="POST">
                <input type='hidden' name='reset_action' value='reset' />
                <td>
                    <button type='submit' class="reset-button">
                        Reset database
                    </button>
                </td>
            </form>
<div>

{{!-- Javacrript to show popup --}}
<script>
  // Get the query parameters from the URL
  const urlParams = new URLSearchParams(window.location.search);
  const success = urlParams.get('success');

  // Check if the database reset was successful
  if (success === 'true') {
    alert('Database has been reset successfully!');
    // Optionally, clear the query parameter to prevent the alert from showing again on page refresh
    window.history.replaceState({}, document.title, '/');
  } else if (success === 'false') {
    alert('Failed to reset the database. Please try again.');
    window.history.replaceState({}, document.title, '/');
  }
</script>